{% extends "base.html" %}

{% block page_styles %}{% endblock %}

{% block page_name %}Stepper Motor Data Table{% endblock %}

{% block page_buttons %}{% endblock %}

{% block content %}

<table class="table table-hover" id="main-table">
  <thead>
    <tr>
      <th scope="col">Tag Name</th>
      <th scope="col">Tag Value</th>
    </tr>
  </thead>
  <tbody>
    {% for key, value in stepper_motor_data_dict.items %}
      {% if key == "E-Stop" and value is True%}
      <tr class="table-danger">
          <td>{{key}}</td>
          <td>{{value}}</td>
      </tr>
      {% else %}
      <tr>
          <td>{{key}}</td>
          <td>{{value}}</td>
      </tr>
      {% endif %}
    {% endfor %}
  </tbody>
</table>
{% endblock %}

{% block page_scripts %}
<script type='text/javascript' src='https://ajax.googleapis.com/ajax/libs/jquery/3.1.0/jquery.min.js'></script>
  <script type="text/javascript">
  $( document ).ready(function() {
            setInterval(function(){
                // Reload the table of values
                $("#main-table").load(" #main-table");
            }, 2000);
    });
  </script>

{% endblock %}